[GLOBAL]
###########################################################################################
# Directorios de entrada y salida por defecto
# El inputdir, puede dejarse en blanco para pasar el mismo al invocar el ejecutable
# pdftohtml_bin: Path al pdftohtml.exe
###########################################################################################
# outputdir = \\Momdb2Test\Marcas\PruebasNip\pboletin
# oinputdir = \\PLUSDESA02\PI_Import\pdftxt\CD

# pdftoppm_bin = /usr/bin/pdftoppm
# pdftohtml_bin = /usr/bin/pdftohtml
# pdfinfo_bin = /usr/bin/pdfinfo
# pdfimages_bin = /usr/bin/pdfimages

outputdir = F:\PI_import\pdftxt\cd\out
inputdir = F:\PI_import\pdftxt\cd

# Windows:
pdftoppm_bin = pdftools\pdftoppm.exe
pdftohtml_bin = pdftools\pdftohtml.exe
pdfinfo_bin = pdftools\pdfinfo.exe
pdfimages_bin = pdftools\pdfimages.exe

imgext = jpg,pcx
jpg_compression = 75
detect_export_pages = False
export_logos = True

###########################################################################################
# Patrones de expresiones regulares usados
#
# rxcountpages: Para recuperar la cantidad de p?ginas del pdf
# rxactas: Para recuperar el n?mero de acta y las coordenadas
# rxpagedim: Para obtener la dimensi?n total de la p?gina html
###########################################################################################
rxcountpages = Pages:\D+(\d+)
# rxactas = <p style=.+top:(\d+).+left:(\d+).+<b>.+\d.+[Acta|Ata]\s+([0-9v.]+)\s.+<\/b>
rxactas = <p style=.+top:(\d+).+left:(\d+).+(?:Acta&#160;|Acta )([0-9v.]+).+<\/p>
rxpagedim = <div id=\".+\" style=\"position:relative;width:(\d+)px;height:(\d+)px;\">

###########################################################################################
# Salvamos los archivos intermedios del proceso, sirven
# por ejemplo para hacer alg?n tipo de debug
###########################################################################################
save_process_files = False

###########################################################################################
# Configuraciones de p?ginas a procesar
# Dejar en blanco. Se actualizan por par?metro.
###########################################################################################
debug_page =
from_page =
to_page =

###########################################################################################
# Ignorar primeras y ?ltim?s p?ginas del PDF
# Se ignoran estos valores si se usa la detecci?n autom?tica de actas
###########################################################################################
ignore_first_pages = 2
ignore_last_pages = 7

###########################################################################################
# Parametros de procesamiento de cada imagen (el valor es independiente de la resoluci?n)
#
# La resoluci?n en la que vamos a trabajar y en la que se generaran los recortes:
#
#  + resolution
#
# El proceso se basa fundamentalmente en detectar las l?neas rectas en cada p?gina y
# apartir de esto establecer las regiones de recorte. Inicialmente se trata de llegar a
# una imagen byn d?nde solo hubiran lineas rectas. Para esto lo primero que se hace es
# filtrar patrones de un rango de colores (las rectas y los textos tienen un color distinto
# al de la imagenes. Estos colores se establecen mediante los par?metros:
#
#  + linecolor_from
#  + linecolor_to
#
# Luego el proceso intenta elimianr los textos y quedarse solo con las l?neas rectas, para
# esto, partiendo de una imagen ByN eliminamos los patrones o islas cuya superficie es
# menor a un tama?o en pixels establecido mediante:
#
#  + artifact_min_size: En pixels, tomando como base una imagen de 300dpi, no es necesario
#                       ajustar este valor ya que se compensa seg?n la resoluci?n elegida
#
# Una vez recortadas las regiones de interes, podemos descartar algunas seg?n su tama?o
# esto resuleve recortes por regiones vacias o eventualmente un recorte de una pagina
# completa que no sea un acta. Los tama?os minimos y m?ximos seon configurables, y como
# ya se dijo se compensan seg?n la resoluci?n inicial
#
#  + min_area (ancho * largo en pixels)
#  + max_area (ancho * largo en pixels)
#
# Por ?ltimo, podemos ajustar el rectangulo de recorte a una x cantidad de pixels mediante
#
#  + remove_pixels
#
###########################################################################################
resolution = 150

# linecolor_from = 23,23,23
# linecolor_to = 23,23,23

linecolor_from = 0,0,0
linecolor_to = 0,0,0

# linecolor_from = 32,31,35
# linecolor_to = 32,31,35

artifact_min_size = 500
remove_pixels = 20,20,20,20

h_line_gap=100
v_line_gap=60

min_area = 90000
max_area = 6930000

###########################################################################################
# Configuraci?n del algoritmo de deteccion de l?neas
###########################################################################################
# Template antiguo
# only_horizontal = False
# line_min_length = 300

# Template nuevo
only_horizontal = True
line_min_length = 900

line_max_gap = 100
line_thres = 60
line_rho=1
theta=300
